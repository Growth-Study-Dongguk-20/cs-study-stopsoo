## CS Study - Section067 정규화(Normalization)
### ✏️ Study
#### 💡 정규화의 개요
- 의미
  - 함수적 종속성 등의 종속성 이론을 이용하여, 잘못 설계된 관계형 스키마를 더 작은 속성의 세트로 쪼개어 바람직한 스키마로 만들어 가는 과정.
- 특징
  - **하나의 종속성이 하나의 릴레이션에 표현**될 수 있도록 분해해가는 과정.
  - `제1정규형`, `제2정규형`, `제3정규형`, `BCNF형`, `제4정규형`, `제5정규형`.
  - 차수가 높아질수록 만족시켜야 할 제약 조건도 증가.
  - 데이터베이스의 **논리적 설계 단계**에서 수행.
  - 논리적 처리 및 품질에 큰 영향을 미침.
  - 일관성, 정확성, 단순성, 비중복성, 안정성 등을 보장.
  - 정규화 수준이 높을수록 **유연한 데이터 구축이 가능**, **데이터의 정확성이 높아짐**. 하지만 **물리적 접근이 복잡**하고, 너무 많은 조인으로 인한 **조회 성능 저하**도 동반됨.
<br>

#### 💡 정규화의 목적
- 데이터 구조의 안정성 및 무결성 유지.
- 어떠한 릴레이션이라도 데이터베이스 내에서 표현 가능하도록 함.
- 효과적인 검색 알고리즘 생성 가능.
- 데이터 중복 배제를 통한 `이상(Anomaly)`의 발생 방지 및 자료 저장 공간의 최소화 가능.
- 데이터 삽입 시 릴레이션 재구성의 필요성을 줄임.
- 데이터 모형의 단순화 가능.
- 속성의 배열 상태 검증 가능.
- 개체와 속성의 누락 여부 확인 가능.
- 자료 검색과 추출의 효율성 추구.
<br>

#### 💡 이상(Anomaly)의 개념 및 종류
- 개념
  - 정규화를 거치지 않았을 때, 데이터 베이스 내에 데이터들이 불필요하게 중복되어 릴레이션 조작 시 예기치 못한 곤란한 현상이 발생하는 것.
- 종류
  - `삽입 이상(Insertion Anomaly)`
    - 릴레이션에 데이터 삽입 시, **의도와는 상관 없이 원하지 않은 값들도 함께 삽입**되는 현상.
  - `삭제 이상(Deletion Anomaly)`
    - 릴레이션에서 한 튜플을 삭제할 때, **의도와는 상관 없는 값들도 함께 삭제**되는 연쇄가 일어나는 현상.
  - `갱신 이상(Update Anomaly)`
    - 릴레이션에서 튜플에 있는 속성값을 갱신할 때, **일부 튜플의 정보만 갱신**되어 정보에 모순이 생기는 현상.
<br>

#### 💡 정규화의 원칙
- 정보의 무손실 표현, 하나의 스키마를 다른 스키마로 변환할 때 정보의 손실이 있어서는 안됨.
- 분리의 원칙, 하나의 독립된 관계성은 하나의 독립된 릴레이션으로 분리시켜 표현해야 함.
- 데이터의 중복성이 감소되어야 함.
<br>

#### 💡 🔥 정규화 과정
> 1NF(제1정규형)
- 릴레이션에 속한 모든 도메인(Domain, 속성값)이 원자값(Atomic Value)으로만 되어 있는 정규형.
- 릴레이션의 모든 속성이 단순 영역에서 정의됨.
<br>


> 2NF(제2정규형)
- 릴레이션 R이 1NF.
- 기본키가 아닌 모든 속성이 기본키에 대하여 **`완전 함수적 종속`을 만족**하는 정규형.
##### 🔖 완전 함수적 종속
- 어떤 테이블 R에서 속성 A가 다른 속성 집합 B 전체에 대해 함수적 종속이지만 **속성 집합 B의 어떤 진부분 집합 C에는 함수적 종속이 아닐 때**, 속성 A는 속성 집합 B에 완전 함수적 종속이라고 함.
<br>

> 3NF(제3정규형)
- 릴레이션 R이 2NF.
- 기본키가 아닌 모든 속성이 기본키에 대해 **`이행적 종속`을 만족하지 않는** 정규형.
- 무손실 조인 or 종속성 보존을 저해하지 않고도 항상 3NF 설계를 얻을 수 있음.
##### 🔖 이행적 종속
- A->B이고 B->C일 때, A->C를 만족하는 관계.
<br>

> BCNF(Boyce-Codd 정규형)
- 릴레이션 R에서 `결정자`가 모두 `후보키(Candidate Key)`인 정규형.
- 3NF에서 후보키가 여러 개 존재하고 서로 중첩되는 경우에 적용하는, `강한 제3정규형`이라고도 함.
- 모든 BCNF(Boyce-Codd Normal Form)가 종속성을 보존하는 것은 아님.
##### 🔖 BCNF의 제약조건
- 키가 아닌 모든 속성은 각 키에 대하여 완전 종속해야 함.
- 키가 아닌 모든 속성은 그 자신이 부분적으로 들어가 있지 않은 모든 키에 대하여 완전 종속해야 함.
- 어떤 속성도 키가 아닌 속성에 대해서는 완전 종속할 수 없음.
<br>

> 4NF(제4정규형)
- 릴레이션 R에 `다치 종속` **A ->> B**가 성립하는 경우, **R의 모든 속성이 A에 함수적 종속 관계를 만족**하는 정규형.
<br>

> 5NF(제5정규형)
- 릴레이션 R의 모든 `조인 종속`이 **R의 후보키를 통해서만 성립**되는 정규형.
<br>
