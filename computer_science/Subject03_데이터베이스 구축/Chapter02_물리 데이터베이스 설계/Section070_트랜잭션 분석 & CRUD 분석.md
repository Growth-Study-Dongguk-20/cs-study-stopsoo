## CS Study - Section070 트랜잭션 분석 / CRUD 분석
### ✏️ Study
#### 💡 트랜잭션(Transaction) 정의
- 의미
  - 데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위
  - 한꺼번에 모두 수행되어야 할 일련의 연산들
- 특징
  - 데이터베이스 시스템에서 `병행 제어` 및 `회복 작업` 시 처리되는 작업의 논리적 단위로 사용됨.
  - 사용자가 시스템에 대한 서비스 요구 시, **시스템이 응답하기 위한 상태 변환 과정의 작업 단위**로 사용됨.
<br>

#### 💡 트랜잭션의 상태
- `활동(Active)` : 트랜잭션이 실행 중인 상태.
- `실패(Failed)` : 트랜잭션 실행에 오류가 발생하여 중단된 상태.
- `철회(Aborted)` : 트랜잭션이 비정상적으로 종료되어 Rollback(복구) 연산을 수행한 상태.
- `부분 완료(Partially Committed)` : 트랜잭션을 모두 성공적으로 실행한 후, Commit 연산이 실행되기 직전인 상태.
- `완료(Committed)` : 트랜잭션을 모두 성공적으로 실행한 후, Commit 연산을 실행한 후의 상태.
<br>

#### 💡 트랜잭션의 특성
- 데이터의 **`무결성(Integrity)`** 을 보장하기 위해 DBMS의 트랜잭션이 가져야 할 특성.<br>

| 특성 | 특징 |
|:-------:|-------------------|
| **Atomicity<br>(원자성)** | - 트랜잭션의 연산은 데이터베이스에 모두 반영되도록 **완료(Commit)되든지**, 전혀 반영되지 않도록 **복구(Rollback)되어야 함**.<br>- 트랜잭션 내의 모든 명령은 반드시 완벽히 수행되어야 하며, 모두가 완벽히 수행되지 않고 어느 하나라도 오류가 발생하면<br>트랜잭션 전부가 취소되어야 함. |
| **Consistency<br>(일관성)** | - 트랜잭션이 그 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 변환함.<br>- 시스템이 가지고 있는 고정 요소는 트랜잭션 수행 전과 수행 완료 후의 상태가 같아야 함. |
| **Isolation<br>(독립성, 격리성, 순차성)** | - 둘 이상의 트랜잭션이 동시에 병행 실행되는 경우, 어느 하나의 트랜잭션 실행 중에 다른 트랜잭션의 연산이 끼어들 수 없음.<br>- 수행 중인 트랜잭션은 완전히 완료될 때까지 다른 트랜잭션에서 수행 결과를 참조할 수 없음. |
| **Durability<br>(영속성, 지속성)** | - 성공적으로 완료된 트랜잭션의 결과는 시스템이 고장나더라도 영구적으로 반영되어야 함. |
<br>

#### 💡 CRUD 분석
- 의미
  - `생성(Create)`, `읽기(Read)`, `갱신(Update)`, `삭제(Delete)`의 앞 글자만 모아서 만든 용어.
  - 트랜잭션의 CRUD 연산에 대해 CRUD 매트릭스를 작성하여 분석하는 것.
- 특징
  - 테이블에 발생되는 트랜잭션의 주기별 발생 횟수를 파악하고 연관된 테이블들을 분석하면, 테이블에 저장되는 데이터의 양을 유추 가능.
  - CRUD 분석을 통해 많은 트랜잭션이 몰리는 테이블 파악 가능 ➡️ 디스크 구성 시 유용한 자료로 활용 가능.
  - CRUD 분석을 통해 외부 프로세스 트랜잭션의 부하가 집중되는 데이터베이스 채널을 파악하고 분산시킴으로써, 연결 지연이나 타임아웃 오류를 방지 가능.
<br>

#### 💡 CRUD 매트릭스
- 의미
  - 행에는 프로세스, 열에는 테이블, 행과 열이 만나는 위치에는 프로세스가 테이블에 발생시키는 변화를 표시하는 업무 프로세스와 데이터 간 상관 분석표. 2차원 형태의 표.
- 특징
  - 프로세스의 트랜잭션이 테이블에 수행하는 작업을 검증.
  - 각 셀에는 C, R, U, D가 들어감.
  - 복수의 변화를 줄 때는 기본적으로 **'C > D > U > R'** 의 우선순위를 적용하여 한 가지만 적지만, 활용 목적에 따라 모두 기록 가능.
  - 완성되었을 경우, 아무 것도 적히지 않은 행이나 열, C나 R이 없는 열을 확인하여 불필요하거나 누락된 테이블 또는 프로세스를 찾음.